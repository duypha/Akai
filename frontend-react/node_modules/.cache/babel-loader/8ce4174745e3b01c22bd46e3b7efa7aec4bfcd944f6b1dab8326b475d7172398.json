{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\anhdu\\\\Projects\\\\it-support-agent\\\\frontend-react\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback } from 'react';\nimport { ThemeProvider } from './contexts/ThemeContext';\nimport { ChatProvider, useChat } from './contexts/ChatContext';\nimport { Header, ChatArea, ChatInput, Sidebar, WelcomeScreen } from './components';\nimport './styles/global.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ChatApp() {\n  _s();\n  const {\n    session,\n    messages,\n    isConnected,\n    isLoading,\n    createSession,\n    sendMessage\n  } = useChat();\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n  const [isSharing, setIsSharing] = useState(false);\n  const [soundEnabled, setSoundEnabled] = useState(true);\n  const handleToggleSharing = useCallback(async () => {\n    if (isSharing) {\n      setIsSharing(false);\n      // Stop sharing logic here\n    } else {\n      try {\n        // Request screen sharing\n        const stream = await navigator.mediaDevices.getDisplayMedia({\n          video: true,\n          audio: false\n        });\n        setIsSharing(true);\n\n        // Handle stream end\n        stream.getVideoTracks()[0].onended = () => {\n          setIsSharing(false);\n        };\n      } catch (err) {\n        console.error('Screen sharing error:', err);\n      }\n    }\n  }, [isSharing]);\n  if (!isConnected) {\n    return /*#__PURE__*/_jsxDEV(WelcomeScreen, {\n      onStart: createSession,\n      isLoading: isLoading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-container\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      onMenuClick: () => setIsSidebarOpen(true),\n      onSettingsClick: () => setIsSidebarOpen(true),\n      sessionCode: session === null || session === void 0 ? void 0 : session.code\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"app-main\",\n      children: [/*#__PURE__*/_jsxDEV(ChatArea, {\n        messages: messages,\n        isLoading: isLoading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ChatInput, {\n        onSend: sendMessage,\n        isLoading: isLoading,\n        sessionId: (session === null || session === void 0 ? void 0 : session.id) || null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Sidebar, {\n      isOpen: isSidebarOpen,\n      onClose: () => setIsSidebarOpen(false),\n      isSharing: isSharing,\n      onToggleSharing: handleToggleSharing,\n      soundEnabled: soundEnabled,\n      onToggleSound: () => setSoundEnabled(!soundEnabled)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n}\n_s(ChatApp, \"qt2fCf7QUG/GmHiZSzgxyBYMydw=\", false, function () {\n  return [useChat];\n});\n_c = ChatApp;\nexport default function App() {\n  return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n    children: /*#__PURE__*/_jsxDEV(ChatProvider, {\n      children: /*#__PURE__*/_jsxDEV(ChatApp, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n}\n_c2 = App;\nvar _c, _c2;\n$RefreshReg$(_c, \"ChatApp\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"names":["React","useState","useCallback","ThemeProvider","ChatProvider","useChat","Header","ChatArea","ChatInput","Sidebar","WelcomeScreen","jsxDEV","_jsxDEV","ChatApp","_s","session","messages","isConnected","isLoading","createSession","sendMessage","isSidebarOpen","setIsSidebarOpen","isSharing","setIsSharing","soundEnabled","setSoundEnabled","handleToggleSharing","stream","navigator","mediaDevices","getDisplayMedia","video","audio","getVideoTracks","onended","err","console","error","onStart","fileName","_jsxFileName","lineNumber","columnNumber","className","children","onMenuClick","onSettingsClick","sessionCode","code","onSend","sessionId","id","isOpen","onClose","onToggleSharing","onToggleSound","_c","App","_c2","$RefreshReg$"],"sources":["C:/Users/anhdu/Projects/it-support-agent/frontend-react/src/App.tsx"],"sourcesContent":["import React, { useState, useCallback } from 'react';\r\nimport { ThemeProvider } from './contexts/ThemeContext';\r\nimport { ChatProvider, useChat } from './contexts/ChatContext';\r\nimport {\r\n  Header,\r\n  ChatArea,\r\n  ChatInput,\r\n  Sidebar,\r\n  WelcomeScreen\r\n} from './components';\r\nimport './styles/global.css';\r\n\r\nfunction ChatApp() {\r\n  const {\r\n    session,\r\n    messages,\r\n    isConnected,\r\n    isLoading,\r\n    createSession,\r\n    sendMessage\r\n  } = useChat();\r\n\r\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\r\n  const [isSharing, setIsSharing] = useState(false);\r\n  const [soundEnabled, setSoundEnabled] = useState(true);\r\n\r\n  const handleToggleSharing = useCallback(async () => {\r\n    if (isSharing) {\r\n      setIsSharing(false);\r\n      // Stop sharing logic here\r\n    } else {\r\n      try {\r\n        // Request screen sharing\r\n        const stream = await navigator.mediaDevices.getDisplayMedia({\r\n          video: true,\r\n          audio: false\r\n        });\r\n\r\n        setIsSharing(true);\r\n\r\n        // Handle stream end\r\n        stream.getVideoTracks()[0].onended = () => {\r\n          setIsSharing(false);\r\n        };\r\n      } catch (err) {\r\n        console.error('Screen sharing error:', err);\r\n      }\r\n    }\r\n  }, [isSharing]);\r\n\r\n  if (!isConnected) {\r\n    return (\r\n      <WelcomeScreen\r\n        onStart={createSession}\r\n        isLoading={isLoading}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"app-container\">\r\n      <Header\r\n        onMenuClick={() => setIsSidebarOpen(true)}\r\n        onSettingsClick={() => setIsSidebarOpen(true)}\r\n        sessionCode={session?.code}\r\n      />\r\n\r\n      <main className=\"app-main\">\r\n        <ChatArea\r\n          messages={messages}\r\n          isLoading={isLoading}\r\n        />\r\n\r\n        <ChatInput\r\n          onSend={sendMessage}\r\n          isLoading={isLoading}\r\n          sessionId={session?.id || null}\r\n        />\r\n      </main>\r\n\r\n      <Sidebar\r\n        isOpen={isSidebarOpen}\r\n        onClose={() => setIsSidebarOpen(false)}\r\n        isSharing={isSharing}\r\n        onToggleSharing={handleToggleSharing}\r\n        soundEnabled={soundEnabled}\r\n        onToggleSound={() => setSoundEnabled(!soundEnabled)}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function App() {\r\n  return (\r\n    <ThemeProvider>\r\n      <ChatProvider>\r\n        <ChatApp />\r\n      </ChatProvider>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}